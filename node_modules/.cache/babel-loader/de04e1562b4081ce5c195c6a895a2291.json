{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SIBEVARA\\\\Desktop\\\\On-demand-car-wash-system-frontend\\\\src\\\\components\\\\pages\\\\AdminLog.js\";\n// import React from 'react'\n// import { useNavigate } from 'react-router-dom';\n// const AdminLog = () => {\n//     let navigate = useNavigate();\n//     return (\n//         <div>\n//             <h1 className='text-center'>Admin LOGIN</h1>\n//             <div className=\"formDetails\">\n//                 <input type=\"text\" placeholder='name' /><br /><br />\n//                 <input type=\"password\" placeholder='password' />\n//                 <br />\n//                 <button className=\"bookBtn\" onClick={() => { navigate('/admin_home') }}>Submit <i className=\"fas fa-arrow-right rightArw\"></i></button>\n//             </div>\n//         </div>\n//     )\n// }\n// export default AdminLog;\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router';\nimport { Link } from 'react-router-dom'; // import \"./CreateMovie.css\";\n// import { Navbar } from 'react-bootstrap';\n\nfunction Login() {\n  const [loginForm, setLoginForm] = useState({\n    username: \"\",\n    password: \"\"\n  });\n  const [role1, setRole] = useState(\"\");\n  const [formErrors, setFormErrors] = useState({});\n  const navigate = useNavigate();\n\n  const handleChange = event => {\n    setLoginForm(loginForm => ({ ...loginForm,\n      [event.target.name]: event.target.value\n    }));\n  };\n\n  const handleSubmit = event => {\n    //validation login form\n    let errors = {};\n\n    if (!loginForm.username) {\n      errors[\"usernameErr\"] = \"Username is required\";\n    }\n\n    if (!loginForm.password) {\n      errors[\"passwordErr\"] = \"Password is required\";\n    }\n\n    if (!role1) {\n      errors[\"roleErr\"] = \"Role is required\";\n    }\n\n    setFormErrors(errors);\n    const noErrors = Object.keys(errors).length === 0; // if no errors call the login api\n\n    if (noErrors) {\n      let payload = {\n        username: loginForm.username,\n        password: loginForm.password,\n        role: role1\n      };\n      axios.post(\"http://localhost:8085/auth/login\", payload).then(resp => {\n        console.log(resp.data);\n        alert(\"Welcome \" + resp.data.role);\n        let user = {\n          customerId: resp.data.customerId,\n          customerName: resp.data.customerName,\n          role: resp.data.role\n        };\n        localStorage.setItem(\"myUser\", JSON.stringify(user));\n\n        if (resp.data.role === \"customer\") {\n          navigate(\"/CustomerMenuBar\");\n        }\n\n        if (resp.data.role === \"admin\") {\n          navigate(\"/AdminMenuBar\");\n        }\n      }).catch(error => {\n        console.log(error.response);\n        alert(\"Invalid Credentials\");\n      });\n    }\n\n    event.preventDefault();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"uday d-flex justify-content-center align-items-center pt-3 mt-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid \",\n    style: {\n      width: \"700px\",\n      marginTop: \"10px\",\n      paddingBottom: \"20px\",\n      background: \"rgba(0,0,0,0.1)\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    style: {\n      paddingTop: \"20px\",\n      color: \"white\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 60\n    }\n  }, \"LOGIN\")), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row h-100 justify-content-center align-items-center \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-10 col-md-8 col-lg-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"username\",\n    style: {\n      float: \"left\",\n      color: \"white\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 21\n    }\n  }, \"Username:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    id: \"username\",\n    className: \"form-control\",\n    value: loginForm.username,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 21\n    }\n  }), formErrors.usernameErr && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      color: \"red\",\n      paddingBottom: 10,\n      fontWeight: \"600\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 51\n    }\n  }, formErrors.usernameErr)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    style: {\n      float: \"left\",\n      color: \"white\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }, \"Password:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    id: \"password\",\n    className: \"form-control\",\n    value: loginForm.password,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 21\n    }\n  }), formErrors.passwordErr && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      color: \"red\",\n      paddingBottom: 10,\n      fontWeight: \"600\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 51\n    }\n  }, formErrors.passwordErr)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    id: \"role1\",\n    name: \"role1\",\n    value: \"customer\",\n    onChange: e => setRole(\"customer\"),\n    checked: role1 === \"customer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 21\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"white\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 59\n    }\n  }, \"Customer\"), \" \\xA0 \\xA0 \\xA0\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    id: \"role1\",\n    name: \"role1\",\n    value: \"admin\",\n    onChange: e => setRole(\"admin\"),\n    checked: role1 === \"admin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 21\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"white\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 57\n    }\n  }, \"Admin\"), formErrors.roleErr && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      color: \"red\",\n      paddingBottom: 10,\n      fontWeight: \"600\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 47\n    }\n  }, formErrors.roleErr)), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      paddingTop: \"30px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleSubmit,\n    className: \"btn btn-success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 21\n    }\n  }, \"Login\"), \" \\xA0  \\xA0\", /*#__PURE__*/React.createElement(Link, {\n    to: \"/createCustomer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 50\n    }\n  }, \" Register\")))))));\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/SIBEVARA/Desktop/On-demand-car-wash-system-frontend/src/components/pages/AdminLog.js"],"names":["React","useState","axios","useNavigate","Link","Login","loginForm","setLoginForm","username","password","role1","setRole","formErrors","setFormErrors","navigate","handleChange","event","target","name","value","handleSubmit","errors","noErrors","Object","keys","length","payload","role","post","then","resp","console","log","data","alert","user","customerId","customerName","localStorage","setItem","JSON","stringify","catch","error","response","preventDefault","width","marginTop","paddingBottom","background","paddingTop","color","float","usernameErr","fontWeight","passwordErr","e","roleErr"],"mappings":"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","sourcesContent":["// import React from 'react'\r\n// import { useNavigate } from 'react-router-dom';\r\n// const AdminLog = () => {\r\n//     let navigate = useNavigate();\r\n//     return (\r\n//         <div>\r\n//             <h1 className='text-center'>Admin LOGIN</h1>\r\n//             <div className=\"formDetails\">\r\n//                 <input type=\"text\" placeholder='name' /><br /><br />\r\n//                 <input type=\"password\" placeholder='password' />\r\n//                 <br />\r\n//                 <button className=\"bookBtn\" onClick={() => { navigate('/admin_home') }}>Submit <i className=\"fas fa-arrow-right rightArw\"></i></button>\r\n//             </div>\r\n//         </div>\r\n//     )\r\n// }\r\n\r\n// export default AdminLog;\r\n\r\n\r\nimport React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router';\r\nimport {Link} from 'react-router-dom';\r\n// import \"./CreateMovie.css\";\r\n// import { Navbar } from 'react-bootstrap';\r\n\r\n\r\nfunction Login() {\r\n    const [loginForm, setLoginForm] = useState({\r\n        username: \"\",\r\n        password: \"\"\r\n    })\r\n    const [role1, setRole] = useState(\"\");\r\n    const [formErrors, setFormErrors] = useState({});\r\n    const navigate = useNavigate();\r\n    const handleChange = (event) => {\r\n        setLoginForm(loginForm => ({ ...loginForm, [event.target.name]: event.target.value }));\r\n    }\r\n    const handleSubmit = (event) => {\r\n        //validation login form\r\n        let errors = {};\r\n        if (!loginForm.username) {\r\n            errors[\"usernameErr\"] = \"Username is required\"\r\n        }\r\n        if (!loginForm.password) {\r\n            errors[\"passwordErr\"] = \"Password is required\"\r\n        }\r\n        if (!role1) {\r\n            errors[\"roleErr\"] = \"Role is required\"\r\n        }\r\n        setFormErrors(errors);\r\n        const noErrors = Object.keys(errors).length === 0;\r\n        // if no errors call the login api\r\n        if (noErrors) {\r\n\r\n\r\n\r\n            let payload = {\r\n                username: loginForm.username,\r\n                password: loginForm.password,\r\n                role: role1\r\n            }\r\n            axios.post(\"http://localhost:8085/auth/login\", payload).then(resp => {\r\n                console.log(resp.data);\r\n                alert(\"Welcome \" + resp.data.role);\r\n                let user = {\r\n                    customerId: resp.data.customerId,\r\n                    customerName: resp.data.customerName,\r\n                    role: resp.data.role\r\n                }\r\n                localStorage.setItem(\"myUser\", JSON.stringify(user));\r\n\r\n\r\n\r\n                if (resp.data.role === \"customer\") {\r\n                    navigate(\"/CustomerMenuBar\");\r\n\r\n\r\n\r\n                }\r\n                if (resp.data.role === \"admin\") {\r\n\r\n\r\n\r\n                    navigate(\"/AdminMenuBar\");\r\n\r\n\r\n\r\n                }\r\n\r\n\r\n\r\n            }).catch(error => {\r\n                console.log(error.response);\r\n                alert(\"Invalid Credentials\");\r\n            })\r\n        }\r\n        event.preventDefault();\r\n    }\r\n    return (\r\n       \r\n        <div className=\"uday d-flex justify-content-center align-items-center pt-3 mt-0\"  >\r\n        <div className=\"container-fluid \" style={{width:\"700px\",marginTop:\"10px\",paddingBottom:\"20px\",background:\"rgba(0,0,0,0.1)\"}}>\r\n            <h2  style={{paddingTop:\"20px\",color:\"white\"}}><strong>LOGIN</strong></h2>\r\n\r\n        <div class=\"row h-100 justify-content-center align-items-center \">\r\n            \r\n            <div className='col-10 col-md-8 col-lg-6'>\r\n                <div className='form-group'>\r\n                    <label htmlFor='username' style={{float:\"left\",color:\"white\"}}>Username:</label>\r\n                    <input type=\"text\" name=\"username\" id=\"username\" className=\"form-control\" value={loginForm.username} onChange={handleChange} />\r\n                    {\r\n                        formErrors.usernameErr && <div style={{ color: \"red\", paddingBottom: 10,fontWeight:\"600\"}}>{formErrors.usernameErr}</div>\r\n                    }\r\n                </div>\r\n                <div className='form-group'>\r\n                    <label htmlFor='password' style={{float:\"left\",color:\"white\"}}>Password:</label>\r\n                    <input type=\"password\" name=\"password\" id=\"password\" className=\"form-control\" value={loginForm.password} onChange={handleChange} />\r\n                    {\r\n                        formErrors.passwordErr && <div style={{ color: \"red\", paddingBottom: 10,fontWeight:\"600\"}}>{formErrors.passwordErr}</div>\r\n                    }\r\n                </div>\r\n                <div>\r\n                    {/* <input type=\"radio\" id=\"huey\" name=\"role\" value=\"Customer\" checked /> */}\r\n\r\n\r\n\r\n                    {/* <input type=\"radio\" value=\"customer\" name=\"role1\" checked/> Customer\r\n<input type=\"radio\" value=\"admin\" name=\"role1\" /> Admin */}\r\n\r\n\r\n\r\n                    <input type=\"radio\" id=\"role1\" name=\"role1\" value=\"customer\" onChange={(e) => setRole(\"customer\")}\r\n                        checked={role1 === \"customer\"} /> <span style={{color:\"white\"}}>Customer</span> &nbsp; &nbsp; &nbsp;\r\n\r\n                    <input type=\"radio\"  id=\"role1\" name=\"role1\" value=\"admin\" onChange={(e) => setRole(\"admin\")}\r\n                        checked={role1 === \"admin\"}  /> <span style={{color:\"white\"}}>Admin</span>\r\n                    {\r\n                        formErrors.roleErr && <div style={{ color: \"red\", paddingBottom: 10,fontWeight:\"600\" }}>{formErrors.roleErr}</div>\r\n                    }\r\n                </div>\r\n\r\n\r\n\r\n\r\n                <div style={{paddingTop:\"30px\"}}>\r\n                    <button onClick={handleSubmit} className=\"btn btn-success\">Login</button> &nbsp;  &nbsp; \r\n                     <Link to=\"/createCustomer\" ><button className=\"btn btn-info\"> Register</button></Link> \r\n                </div>\r\n            </div>\r\n            </div>\r\n        </div>\r\n         </div>\r\n        \r\n\r\n\r\n\r\n\r\n    )\r\n}\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}